<form nz-form [formGroup]="form" nzLayout="vertical">
    <div *ngFor="let group of activityGroups.controls; let i=index">
        <div formArrayName="groups">
            <div [formGroupName]="i">
                <nz-form-item>
                    <nz-form-label nzFor="time" nzRequired>Dzień tygodnia</nz-form-label>
                    <nz-form-control [nzErrorTip]="errorDescription">
                        <nz-select formControlName="weekDay" nzPlaceHolder="Wybierz dzień tygodnia">
                            <nz-option *ngFor="let option of weekDaysOptions" [nzLabel]="option.label" [nzValue]="option.value"></nz-option>
                        </nz-select>     
                    </nz-form-control>
                </nz-form-item>
                
                <nz-form-item>
                    <nz-form-label nzFor="time" nzRequired>Godzina</nz-form-label>
                    <nz-form-control [nzErrorTip]="errorDescription">
                        <nz-time-picker [nzHideDisabledOptions]="true" [nzDisabledMinutes]="disabledMinutes" style="width: 100%;" id="time" formControlName="time" nzFormat="HH:mm" nzPlaceHolder="Wybierz godzinę"></nz-time-picker>
                    </nz-form-control>
                </nz-form-item>
            
                <nz-form-item>
                    <nz-form-label nzFor="price" nzRequired>Cena</nz-form-label>
                    <nz-form-control [nzErrorTip]="errorDescription">
                        <nz-input-number id="name" nz-input placeholder="Cena" formControlName="price"></nz-input-number>
                    </nz-form-control>
                </nz-form-item>
            </div>
        
            <span class="clickable" (click)="removeActivity(i)" nz-icon nzType="delete" nzTheme="outline"></span>
            <nz-divider></nz-divider>
        </div>
        </div>
      <span class="clickable" nz-icon nzType="plus-circle" nzTheme="outline" (click)="addNewActivity()"></span>

</form>

<div class="modal__action-container">
    <hub-button text="Dalej" (click)="submit()"></hub-button>
</div>

<ng-template #errorDescription let-control>
    <ng-container *ngIf="control.hasError('required')">To pole jest wymagane</ng-container>
    <ng-container *ngIf="control.hasError('minlength')">Minimalna wymagana ilość znaków</ng-container>
    <ng-container *ngIf="control.hasError('maxlength')">Przekroczono dopuszczalną ilość znaków</ng-container>
</ng-template>